<!DOCTYPE html>
<html>

<head>

<title>François Hollande's calendar</title>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/topojson.v1.min.js"></script>
<script src="http://datamaps.github.io/scripts/datamaps.world.min.js"></script>

</head>

<body>

<style>

#wrap { 
  width: 1080px; 
  margin: 0 auto; 
}

#arcs{
  margin-top: 40px;
  margin-bottom: 40px;
}

H1{
  margin: auto;
  margin-top: 20px; 
  margin-bottom: 40px;
  font-family: "Dosis";
}

H3{
  margin: auto;
  margin-bottom: 20px;
  margin-top: 40px;
  font-family: "Ubuntu";
}

p{
  font-family: "Ubuntu";
  margin-top: 10px;
  margin-bottom: 10px; 
}

ul{
  font-family: "Ubuntu";
}

</style>

<div id="wrap">

<H1>Visualizing François Hollande's calendar</H1>

<H3>This map shows François Hollande's travels abroad</H3>

<div id ="arcs" style="position: relative; width: 1000px; height: 600px;"> </div>

<script>

var arcs = new Datamap({
  element: document.getElementById("arcs"),
  projection: 'mercator',
  fills: {
    defaultFill: "#a4a4a4",
    home: "#4c8bff", 
    visit: "#f75b68"
  },

  data: {
    'FRA': { fillKey: 'home'},
    'USA': { fillKey: 'visit' },
    'DEU': { fillKey: 'visit' },
    'MEX': { fillKey: 'visit' },
    'BEL': { fillKey: 'visit' },
    'CAF': { fillKey: 'visit' },
    'NGA': { fillKey: 'visit' },
    'THA': { fillKey: 'visit' },
    'TUN': { fillKey: 'visit' },
    'GBR': { fillKey: 'visit' },
  }

});

arcs.arc([
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219    
      },
      destination: {
          latitude: 19.4326077,
          longitude: -99.133208 
      }
  },
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 38.90723089999999,
          longitude: -77.0364641 
      }
  },
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 52.52000659999999,
          longitude: 13.404954 
      }
  },
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 50.84999999999999,
          longitude: 4.35 
      }
  },
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 4.366666700000001,
          longitude: 18.5833333
      } 
  },
    {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 9.066666699999999,
          longitude: 7.483333300000001 
      }
  },
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 18.7756318,
          longitude: 100.7730417 
      }  
  },
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 36.8064948,
          longitude: 10.1815316 
      }  
  },
  {
      origin: {
          latitude: 48.856614,
          longitude: 2.3522219
      },
      destination: {
          latitude: 51.767658,
          longitude: -1.566767 
      }  
  }
],  {strokeWidth: 1, arcSharpness: 1.4});

</script>

<p>The arcs show the exact locations where he has travelled. The data comes from a calendar of official appointments which is publicly available on the french presidency's website in a <a href="http://www.elysee.fr/chronologie/download/json">json</a> or <a href="http://www.elysee.fr/chronologie/download/xml"> xml </a> format.</p> 
<P>To obtain the latitude and longitude I geocoded the places contained in that dataset using geopandas and the Google Maps API. The map is generated using D3.js and <a href="http://datamaps.github.io/">Data Maps</a>. Because I had to do it manually, I only vizualised his first 10 visits abroad.</p>


<H3>This graphic shows how many appointments François Hollande had per day over the course of his presidency:</H3>

<img src='http://54.86.184.36:9800/frequency'; width=1000px; height=400px>

<p>These data were obtained by scraping the public calendar that he has on his website.</p>
<p>Other fun facts about his schedule as of May 12th 2014:</p> 
<ul>
<li>his busiest day since the beginning of his presidency was July 25th 2013. He had 16 meetings that day.</li>
<li>He has 4.13 appointements per day on average.</li>
<li>His favorite time to meet is 10am.</li>
</ul>

<H3>This graphic shows the percentage of men and women of the total amount of people he met with </H3>
<img src='http://54.86.184.36:9800/gender'; width=600px; height=600px>

<p>After scraping the calendar I parsed the data by using regular expressions.</p>
<p>Other fun facts about the people he met with as of May 12th 2014:</p> 
<ul>
<li>The person he has met the most is his former prime minister Jean-Marc Ayrault.</li>
<li>Since he made Manuel Valls prime minister earlier this year, François Hollande has had lunch with him 5 times. The two men never officialy had lunch together before that.</li>
</ul>

<H3>The sausage:</H3>
       <ul>
          <li>My code for this website can be found <a href="https://github.com/juliengathelier/juliengathelier.github.io/blob/master/index.html">here</a>.</li>
          <li>My code for geocoding François Hollande's visits can be found <a href="https://github.com/juliengathelier/juliengathelier.github.io/blob/master/Geocoding%20Franc%CC%A7ois%20Hollande's%20state%20visits.py">here</a>.</li>
          <li>My code for the scraper and the APIs can be found <a href="https://github.com/juliengathelier/juliengathelier.github.io/blob/master/Elysee%20scraping.py">here</a>.</li>
       </ul>
</div>
<p>© <a href="juliengathelier.com">Julien Gathelier</a> </p>
</body>
</html>